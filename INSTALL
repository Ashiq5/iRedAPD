- Requirements:

    # Python >= 2.4: http://www.python.org/
    # python-ldap: http://www.python-ldap.org/

- Install iredapd.

    - Install required python modules:

        # easy_install python-ldap

    - Copy iredapd to /opt:

        # cp -rf iredapd-x.y.z /opt/
        # ln -s /opt/iredapd-x.y.z /opt/iredapd
        # chmod +x /opt/iredapd/src/iredapd.py

    - Copy necessary rc script:

        # cp /opt/iredapd/rc_scripts/iredapd /etc/init.d/iredapd
        # chmod +x /etc/init.d/iredapd

- Run iredapd:

    # /etc/init.d/iredapd start

- Postfix configuration:

    In postfix main.cf, modify 'smtpd_recipient_restrictions' setting:

        smtpd_recipient_restrictions =
            ...
            permit_mynetworks,
            reject_unauth_destination,                  # First
            check_policy_service inet:127.0.0.1:7777,   # Second
            permit_sasl_authenticated,                  # Third
            ...

    Note:
        - iRedMail has 'permit_sasl_authenticated' in front of
          'reject_unauth_destination' by default, you must swap them.
        - 'check_policy_service inet:127.0.0.1:7777' MUST stay in
          front of 'permit_sasl_authenticated'.
        - Restart postfix to make it work.

- Access policies:
    - public        # Unrestricted.
    - domain        # Restricted to users under same domain.
    - membersOnly    # Only members are allowed.
    - allowedOnly   # Only allowed addresses are allowed.

